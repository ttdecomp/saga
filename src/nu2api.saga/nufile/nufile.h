#pragma once

#include <stdint.h>
#include <stdio.h>

typedef enum NuFileOpenMode : int32_t {
    MODE_READ = 0,
    MODE_WRITE = 1,
    MODE_APPEND = 2,
} NuFileOpenMode;

typedef struct nudathdr_s { /* PlaceHolder Structure */
    char field0_0x0;
    char field1_0x1;
    char field2_0x2;
    char field3_0x3;
    int32_t hashesCount;
    int32_t (**field5_0x8)[4];
    char field6_0xc;
    char field7_0xd;
    char field8_0xe;
    char field9_0xf;
    int16_t (*field10_0x10)[6];
    char field11_0x14;
    char field12_0x15;
    char field13_0x16;
    char field14_0x17;
    char field15_0x18;
    char field16_0x19;
    char field17_0x1a;
    char field18_0x1b;
    uint32_t *hashes;
    int32_t someCount;
    char field21_0x24;
    char field22_0x25;
    char field23_0x26;
    char field24_0x27;
    char *field25_0x28;
    int32_t field26_0x2c;
    char field27_0x30;
    char field28_0x31;
    char field29_0x32;
    char field30_0x33;
    int32_t field31_0x34[2];
    char field32_0x3c;
    char field33_0x3d;
    char field34_0x3e;
    char field35_0x3f;
    char field36_0x40;
    char field37_0x41;
    char field38_0x42;
    char field39_0x43;
    char field40_0x44;
    char field41_0x45;
    char field42_0x46;
    char field43_0x47;
    char field44_0x48;
    char field45_0x49;
    char field46_0x4a;
    char field47_0x4b;
    char field48_0x4c;
    char field49_0x4d;
    char field50_0x4e;
    char field51_0x4f;
    char field52_0x50;
    char field53_0x51;
    char field54_0x52;
    char field55_0x53;
    char field56_0x54;
    char field57_0x55;
    char field58_0x56;
    char field59_0x57;
    char field60_0x58;
    char field61_0x59;
    char field62_0x5a;
    char field63_0x5b;
    char field64_0x5c;
    char field65_0x5d;
    char field66_0x5e;
    char field67_0x5f;
    char field68_0x60;
    char field69_0x61;
    char field70_0x62;
    char field71_0x63;
    char field72_0x64;
    char field73_0x65;
    char field74_0x66;
    char field75_0x67;
    char field76_0x68;
    char field77_0x69;
    char field78_0x6a;
    char field79_0x6b;
    char field80_0x6c;
    char field81_0x6d;
    char field82_0x6e;
    char field83_0x6f;
    char field84_0x70;
    char field85_0x71;
    char field86_0x72;
    char field87_0x73;
    char field88_0x74;
    char field89_0x75;
    char field90_0x76;
    char field91_0x77;
    char field92_0x78;
    char field93_0x79;
    char field94_0x7a;
    char field95_0x7b;
    char field96_0x7c;
    char field97_0x7d;
    char field98_0x7e;
    char field99_0x7f;
    char field100_0x80;
    char field101_0x81;
    char field102_0x82;
    char field103_0x83;
    char field104_0x84;
    char field105_0x85;
    char field106_0x86;
    char field107_0x87;
    char field108_0x88;
    char field109_0x89;
    char field110_0x8a;
    char field111_0x8b;
    char field112_0x8c;
    char field113_0x8d;
    char field114_0x8e;
    char field115_0x8f;
    char field116_0x90;
    char field117_0x91;
    char field118_0x92;
    char field119_0x93;
    char field120_0x94;
    char field121_0x95;
    char field122_0x96;
    char field123_0x97;
    char field124_0x98;
    char field125_0x99;
    char field126_0x9a;
    char field127_0x9b;
    char field128_0x9c;
    char field129_0x9d;
    char field130_0x9e;
    char field131_0x9f;
    char field132_0xa0;
    char field133_0xa1;
    char field134_0xa2;
    char field135_0xa3;
    char field136_0xa4;
    char field137_0xa5;
    char field138_0xa6;
    char field139_0xa7;
    char field140_0xa8;
    char field141_0xa9;
    char field142_0xaa;
    char field143_0xab;
    char field144_0xac;
    char field145_0xad;
    char field146_0xae;
    char field147_0xaf;
    char field148_0xb0;
    char field149_0xb1;
    char field150_0xb2;
    char field151_0xb3;
    char field152_0xb4;
    char field153_0xb5;
    char field154_0xb6;
    char field155_0xb7;
    char field156_0xb8;
    char field157_0xb9;
    char field158_0xba;
    char field159_0xbb;
    char field160_0xbc;
    char field161_0xbd;
    char field162_0xbe;
    char field163_0xbf;
    char field164_0xc0;
    char field165_0xc1;
    char field166_0xc2;
    char field167_0xc3;
    char field168_0xc4;
    char field169_0xc5;
    char field170_0xc6;
    char field171_0xc7;
    char field172_0xc8;
    char field173_0xc9;
    char field174_0xca;
    char field175_0xcb;
    char field176_0xcc;
    char field177_0xcd;
    char field178_0xce;
    char field179_0xcf;
    char field180_0xd0;
    char field181_0xd1;
    char field182_0xd2;
    char field183_0xd3;
    char field184_0xd4;
    char field185_0xd5;
    char field186_0xd6;
    char field187_0xd7;
    char field188_0xd8;
    char field189_0xd9;
    char field190_0xda;
    char field191_0xdb;
    char field192_0xdc;
    char field193_0xdd;
    char field194_0xde;
    char field195_0xdf;
    char field196_0xe0;
    char field197_0xe1;
    char field198_0xe2;
    char field199_0xe3;
    char field200_0xe4;
    char field201_0xe5;
    char field202_0xe6;
    char field203_0xe7;
    char field204_0xe8;
    char field205_0xe9;
    char field206_0xea;
    char field207_0xeb;
    char field208_0xec;
    char field209_0xed;
    char field210_0xee;
    char field211_0xef;
    char field212_0xf0;
    char field213_0xf1;
    char field214_0xf2;
    char field215_0xf3;
    char field216_0xf4;
    char field217_0xf5;
    char field218_0xf6;
    char field219_0xf7;
    char field220_0xf8;
    char field221_0xf9;
    char field222_0xfa;
    char field223_0xfb;
    char field224_0xfc;
    char field225_0xfd;
    char field226_0xfe;
    char field227_0xff;
    char field228_0x100;
    char field229_0x101;
    char field230_0x102;
    char field231_0x103;
    char field232_0x104;
    char field233_0x105;
    char field234_0x106;
    char field235_0x107;
    char field236_0x108;
    char field237_0x109;
    char field238_0x10a;
    char field239_0x10b;
    char field240_0x10c;
    char field241_0x10d;
    char field242_0x10e;
    char field243_0x10f;
    char field244_0x110;
    char field245_0x111;
    char field246_0x112;
    char field247_0x113;
    char field248_0x114;
    char field249_0x115;
    char field250_0x116;
    char field251_0x117;
    char field252_0x118;
    char field253_0x119;
    char field254_0x11a;
    char field255_0x11b;
    char field256_0x11c;
    char field257_0x11d;
    char field258_0x11e;
    char field259_0x11f;
    char field260_0x120;
    char field261_0x121;
    char field262_0x122;
    char field263_0x123;
    char field264_0x124;
    char field265_0x125;
    char field266_0x126;
    char field267_0x127;
    char field268_0x128;
    char field269_0x129;
    char field270_0x12a;
    char field271_0x12b;
    char field272_0x12c;
    char field273_0x12d;
    char field274_0x12e;
    char field275_0x12f;
    char field276_0x130;
    char field277_0x131;
    char field278_0x132;
    char field279_0x133;
    char field280_0x134;
    char field281_0x135;
    char field282_0x136;
    char field283_0x137;
    char field284_0x138;
    char field285_0x139;
    char field286_0x13a;
    char field287_0x13b;
    char field288_0x13c;
    char field289_0x13d;
    char field290_0x13e;
    char field291_0x13f;
    char field292_0x140;
    char field293_0x141;
    char field294_0x142;
    char field295_0x143;
    char field296_0x144;
    char field297_0x145;
    char field298_0x146;
    char field299_0x147;
    char field300_0x148;
    char field301_0x149;
    char field302_0x14a;
    char field303_0x14b;
    char field304_0x14c;
    char field305_0x14d;
    char field306_0x14e;
    char field307_0x14f;
    char field308_0x150;
    char field309_0x151;
    char field310_0x152;
    char field311_0x153;
    char field312_0x154;
    char field313_0x155;
    char field314_0x156;
    char field315_0x157;
    char field316_0x158;
    char field317_0x159;
    char field318_0x15a;
    char field319_0x15b;
    char field320_0x15c;
    char field321_0x15d;
    char field322_0x15e;
    char field323_0x15f;
    char field324_0x160;
    char field325_0x161;
    char field326_0x162;
    char field327_0x163;
    char field328_0x164;
    char field329_0x165;
    char field330_0x166;
    char field331_0x167;
    char field332_0x168;
    char field333_0x169;
    char field334_0x16a;
    char field335_0x16b;
    int16_t field336_0x16c;
    int16_t field337_0x16e;
    char field338_0x170;
    char field339_0x171;
    char field340_0x172;
    char field341_0x173;
    char *path;
} nudathdr_s;

typedef struct NuFileDevice {
    int32_t field0_0x0;
    int32_t field1_0x4;
    char field2_0x8;
    char field3_0x9;
    char field4_0xa;
    char field5_0xb;
    char field6_0xc;
    char field7_0xd;
    char field8_0xe;
    char field9_0xf;
    char field10_0x10;
    char field11_0x11;
    char field12_0x12;
    char field13_0x13;
    char field14_0x14;
    char field15_0x15;
    char field16_0x16;
    char field17_0x17;
    char field18_0x18;
    char field19_0x19;
    char field20_0x1a;
    char field21_0x1b;
    char field22_0x1c;
    char field23_0x1d;
    char field24_0x1e;
    char field25_0x1f;
    char field26_0x20;
    char field27_0x21;
    char field28_0x22;
    char field29_0x23;
    char field30_0x24;
    char field31_0x25;
    char field32_0x26;
    char field33_0x27;
    char field34_0x28;
    char field35_0x29;
    char field36_0x2a;
    char field37_0x2b;
    char field38_0x2c;
    char field39_0x2d;
    char field40_0x2e;
    char field41_0x2f;
    char field42_0x30;
    char field43_0x31;
    char field44_0x32;
    char field45_0x33;
    char *path;
    char field47_0x38;
    char field48_0x39;
    char field49_0x3a;
    char field50_0x3b;
    char field51_0x3c;
    char field52_0x3d;
    char field53_0x3e;
    char field54_0x3f;
    char field55_0x40;
    char field56_0x41;
    char field57_0x42;
    char field58_0x43;
    char *length;
    char field60_0x48;
    char field61_0x49;
    char field62_0x4a;
    char field63_0x4b;
    char field64_0x4c;
    char field65_0x4d;
    char field66_0x4e;
    char field67_0x4f;
    char field68_0x50;
    char field69_0x51;
    char field70_0x52;
    char field71_0x53;
    char field72_0x54;
    char field73_0x55;
    char field74_0x56;
    char field75_0x57;
    char field76_0x58;
    char field77_0x59;
    char field78_0x5a;
    char field79_0x5b;
    char field80_0x5c;
    char field81_0x5d;
    char field82_0x5e;
    char field83_0x5f;
    char field84_0x60;
    char field85_0x61;
    char field86_0x62;
    char field87_0x63;
    char field88_0x64;
    char field89_0x65;
    char field90_0x66;
    char field91_0x67;
    char field92_0x68;
    char field93_0x69;
    char field94_0x6a;
    char field95_0x6b;
    char field96_0x6c;
    char field97_0x6d;
    char field98_0x6e;
    char field99_0x6f;
    char field100_0x70;
    char field101_0x71;
    char field102_0x72;
    char field103_0x73;
    char field104_0x74;
    char field105_0x75;
    char field106_0x76;
    char field107_0x77;
    char field108_0x78;
    char field109_0x79;
    char field110_0x7a;
    char field111_0x7b;
    char field112_0x7c;
    char field113_0x7d;
    char field114_0x7e;
    char field115_0x7f;
    char field116_0x80;
    char field117_0x81;
    char field118_0x82;
    char field119_0x83;
    char field120_0x84;
    char field121_0x85;
    char field122_0x86;
    char field123_0x87;
    char field124_0x88;
    char field125_0x89;
    char field126_0x8a;
    char field127_0x8b;
    char field128_0x8c;
    char field129_0x8d;
    char field130_0x8e;
    char field131_0x8f;
    char field132_0x90;
    char field133_0x91;
    char field134_0x92;
    char field135_0x93;
    char field136_0x94;
    char field137_0x95;
    char field138_0x96;
    char field139_0x97;
    char field140_0x98;
    char field141_0x99;
    char field142_0x9a;
    char field143_0x9b;
    char field144_0x9c;
    char field145_0x9d;
    char field146_0x9e;
    char field147_0x9f;
    char field148_0xa0;
    char field149_0xa1;
    char field150_0xa2;
    char field151_0xa3;
    char field152_0xa4;
    char field153_0xa5;
    char field154_0xa6;
    char field155_0xa7;
    char field156_0xa8;
    char field157_0xa9;
    char field158_0xaa;
    char field159_0xab;
    char field160_0xac;
    char field161_0xad;
    char field162_0xae;
    char field163_0xaf;
    char field164_0xb0;
    char field165_0xb1;
    char field166_0xb2;
    char field167_0xb3;
    char field168_0xb4;
    char field169_0xb5;
    char field170_0xb6;
    char field171_0xb7;
    char field172_0xb8;
    char field173_0xb9;
    char field174_0xba;
    char field175_0xbb;
    char field176_0xbc;
    char field177_0xbd;
    char field178_0xbe;
    char field179_0xbf;
    char field180_0xc0;
    char field181_0xc1;
    char field182_0xc2;
    char field183_0xc3;
    char field184_0xc4;
    char field185_0xc5;
    char field186_0xc6;
    char field187_0xc7;
    char field188_0xc8;
    char field189_0xc9;
    char field190_0xca;
    char field191_0xcb;
    char field192_0xcc;
    char field193_0xcd;
    char field194_0xce;
    char field195_0xcf;
    char field196_0xd0;
    char field197_0xd1;
    char field198_0xd2;
    char field199_0xd3;
    char field200_0xd4;
    char field201_0xd5;
    char field202_0xd6;
    char field203_0xd7;
    char field204_0xd8;
    char field205_0xd9;
    char field206_0xda;
    char field207_0xdb;
    char field208_0xdc;
    char field209_0xdd;
    char field210_0xde;
    char field211_0xdf;
    char field212_0xe0;
    char field213_0xe1;
    char field214_0xe2;
    char field215_0xe3;
    char field216_0xe4;
    char field217_0xe5;
    char field218_0xe6;
    char field219_0xe7;
    char field220_0xe8;
    char field221_0xe9;
    char field222_0xea;
    char field223_0xeb;
    char field224_0xec;
    char field225_0xed;
    char field226_0xee;
    char field227_0xef;
    char field228_0xf0;
    char field229_0xf1;
    char field230_0xf2;
    char field231_0xf3;
    char field232_0xf4;
    char field233_0xf5;
    char field234_0xf6;
    char field235_0xf7;
    char field236_0xf8;
    char field237_0xf9;
    char field238_0xfa;
    char field239_0xfb;
    char field240_0xfc;
    char field241_0xfd;
    char field242_0xfe;
    char field243_0xff;
    char field244_0x100;
    char field245_0x101;
    char field246_0x102;
    char field247_0x103;
    char field248_0x104;
    char field249_0x105;
    char field250_0x106;
    char field251_0x107;
    char field252_0x108;
    char field253_0x109;
    char field254_0x10a;
    char field255_0x10b;
    char field256_0x10c;
    char field257_0x10d;
    char field258_0x10e;
    char field259_0x10f;
    char field260_0x110;
    char field261_0x111;
    char field262_0x112;
    char field263_0x113;
    char field264_0x114;
    char field265_0x115;
    char field266_0x116;
    char field267_0x117;
    char field268_0x118;
    char field269_0x119;
    char field270_0x11a;
    char field271_0x11b;
    char field272_0x11c;
    char field273_0x11d;
    char field274_0x11e;
    char field275_0x11f;
    char field276_0x120;
    char field277_0x121;
    char field278_0x122;
    char field279_0x123;
    char field280_0x124;
    char field281_0x125;
    char field282_0x126;
    char field283_0x127;
    char field284_0x128;
    char field285_0x129;
    char field286_0x12a;
    char field287_0x12b;
    char field288_0x12c;
    char field289_0x12d;
    char field290_0x12e;
    char field291_0x12f;
    char field292_0x130;
    char field293_0x131;
    char field294_0x132;
    char field295_0x133;
    char field296_0x134;
    char field297_0x135;
    char field298_0x136;
    char field299_0x137;
    char field300_0x138;
    char field301_0x139;
    char field302_0x13a;
    char field303_0x13b;
    char field304_0x13c;
    char field305_0x13d;
    char field306_0x13e;
    char field307_0x13f;
    char field308_0x140;
    char field309_0x141;
    char field310_0x142;
    char field311_0x143;
    char field312_0x144;
    char field313_0x145;
    char field314_0x146;
    char field315_0x147;
    char field316_0x148;
    char field317_0x149;
    char field318_0x14a;
    char field319_0x14b;
    char field320_0x14c;
    char field321_0x14d;
    char field322_0x14e;
    char field323_0x14f;
    char field324_0x150;
    char field325_0x151;
    char field326_0x152;
    char field327_0x153;
    char field328_0x154;
    char field329_0x155;
    char field330_0x156;
    char field331_0x157;
    char field332_0x158;
    char field333_0x159;
    char field334_0x15a;
    char field335_0x15b;
    char field336_0x15c;
    char field337_0x15d;
    char field338_0x15e;
    char field339_0x15f;
    char field340_0x160;
    char field341_0x161;
    char field342_0x162;
    char field343_0x163;
    char field344_0x164;
    char field345_0x165;
    char field346_0x166;
    char field347_0x167;
    char field348_0x168;
    char field349_0x169;
    char field350_0x16a;
    char field351_0x16b;
    char field352_0x16c;
    char field353_0x16d;
    char field354_0x16e;
    char field355_0x16f;
    char field356_0x170;
    char field357_0x171;
    char field358_0x172;
    char field359_0x173;
    char field360_0x174;
    char field361_0x175;
    char field362_0x176;
    char field363_0x177;
    char field364_0x178;
    char field365_0x179;
    char field366_0x17a;
    char field367_0x17b;
    char field368_0x17c;
    char field369_0x17d;
    char field370_0x17e;
    char field371_0x17f;
    char field372_0x180;
    char field373_0x181;
    char field374_0x182;
    char field375_0x183;
    char field376_0x184;
    char field377_0x185;
    char field378_0x186;
    char field379_0x187;
    char field380_0x188;
    char field381_0x189;
    char field382_0x18a;
    char field383_0x18b;
    char field384_0x18c;
    char field385_0x18d;
    char field386_0x18e;
    char field387_0x18f;
    char field388_0x190;
    char field389_0x191;
    char field390_0x192;
    char field391_0x193;
    char field392_0x194;
    char field393_0x195;
    char field394_0x196;
    char field395_0x197;
    char field396_0x198;
    char field397_0x199;
    char field398_0x19a;
    char field399_0x19b;
    char field400_0x19c;
    char field401_0x19d;
    char field402_0x19e;
    char field403_0x19f;
    char field404_0x1a0;
    char field405_0x1a1;
    char field406_0x1a2;
    char field407_0x1a3;
    char field408_0x1a4;
    char field409_0x1a5;
    char field410_0x1a6;
    char field411_0x1a7;
    char field412_0x1a8;
    char field413_0x1a9;
    char field414_0x1aa;
    char field415_0x1ab;
    char field416_0x1ac;
    char field417_0x1ad;
    char field418_0x1ae;
    char field419_0x1af;
    char field420_0x1b0;
    char field421_0x1b1;
    char field422_0x1b2;
    char field423_0x1b3;
    char field424_0x1b4;
    char field425_0x1b5;
    char field426_0x1b6;
    char field427_0x1b7;
    char field428_0x1b8;
    char field429_0x1b9;
    char field430_0x1ba;
    char field431_0x1bb;
    char field432_0x1bc;
    char field433_0x1bd;
    char field434_0x1be;
    char field435_0x1bf;
    char field436_0x1c0;
    char field437_0x1c1;
    char field438_0x1c2;
    char field439_0x1c3;
    char field440_0x1c4;
    char field441_0x1c5;
    char field442_0x1c6;
    char field443_0x1c7;
    char field444_0x1c8;
    char field445_0x1c9;
    char field446_0x1ca;
    char field447_0x1cb;
    char field448_0x1cc;
    char field449_0x1cd;
    char field450_0x1ce;
    char field451_0x1cf;
    char field452_0x1d0;
    char field453_0x1d1;
    char field454_0x1d2;
    char field455_0x1d3;
    char field456_0x1d4;
    char field457_0x1d5;
    char field458_0x1d6;
    char field459_0x1d7;
    char field460_0x1d8;
    char field461_0x1d9;
    char field462_0x1da;
    char field463_0x1db;
    char field464_0x1dc;
    char field465_0x1dd;
    char field466_0x1de;
    char field467_0x1df;
    char field468_0x1e0;
    char field469_0x1e1;
    char field470_0x1e2;
    char field471_0x1e3;
    char field472_0x1e4;
    char field473_0x1e5;
    char field474_0x1e6;
    char field475_0x1e7;
    char field476_0x1e8;
    char field477_0x1e9;
    char field478_0x1ea;
    char field479_0x1eb;
    char field480_0x1ec;
    char field481_0x1ed;
    char field482_0x1ee;
    char field483_0x1ef;
    char field484_0x1f0;
    char field485_0x1f1;
    char field486_0x1f2;
    char field487_0x1f3;
    char field488_0x1f4;
    char field489_0x1f5;
    char field490_0x1f6;
    char field491_0x1f7;
    char field492_0x1f8;
    char field493_0x1f9;
    char field494_0x1fa;
    char field495_0x1fb;
    char field496_0x1fc;
    char field497_0x1fd;
    char field498_0x1fe;
    char field499_0x1ff;
    char field500_0x200;
    char field501_0x201;
    char field502_0x202;
    char field503_0x203;
    char field504_0x204;
    char field505_0x205;
    char field506_0x206;
    char field507_0x207;
    char field508_0x208;
    char field509_0x209;
    char field510_0x20a;
    char field511_0x20b;
    char field512_0x20c;
    char field513_0x20d;
    char field514_0x20e;
    char field515_0x20f;
    char field516_0x210;
    char field517_0x211;
    char field518_0x212;
    char field519_0x213;
    char field520_0x214;
    char field521_0x215;
    char field522_0x216;
    char field523_0x217;
    char field524_0x218;
    char field525_0x219;
    char field526_0x21a;
    char field527_0x21b;
    char field528_0x21c;
    char field529_0x21d;
    char field530_0x21e;
    char field531_0x21f;
    char field532_0x220;
    char field533_0x221;
    char field534_0x222;
    char field535_0x223;
    char field536_0x224;
    char field537_0x225;
    char field538_0x226;
    char field539_0x227;
    char field540_0x228;
    char field541_0x229;
    char field542_0x22a;
    char field543_0x22b;
    void *openFunc; /* Created by retype action */
    char field545_0x230;
    char field546_0x231;
    char field547_0x232;
    char field548_0x233;
} NuFileDevice;

typedef struct nudatfileinfo_s { /* PlaceHolder Structure */
    int32_t index;
    char field1_0x4;
    char field2_0x5;
    char field3_0x6;
    char field4_0x7;
    char field5_0x8;
    char field6_0x9;
    char field7_0xa;
    char field8_0xb;
    int32_t *field9_0xc;
    int32_t *field10_0x10;
    char field11_0x14;
    char field12_0x15;
    char field13_0x16;
    char field14_0x17;
    char field15_0x18;
    char field16_0x19;
    char field17_0x1a;
    char field18_0x1b;
    char field19_0x1c;
    char field20_0x1d;
    char field21_0x1e;
    char field22_0x1f;
    int32_t used;
    int32_t *field24_0x24;
} nudatfileinfo_s;

typedef struct NuMemFile {
    char field0_0x0;
    char field1_0x1;
    char field2_0x2;
    char field3_0x3;
    void *end;
    void *ptr;
    char field6_0xc;
    char field7_0xd;
    char field8_0xe;
    char field9_0xf;
    char field10_0x10;
    char field11_0x11;
    char field12_0x12;
    char field13_0x13;
} NuMemFile;

typedef uint32_t NuFileHandle;
enum NuFileHandleRanges {
    NUFILE_HANDLE_RANGE_PS = 0,
    NUFILE_HANDLE_RANGE_MEM = 0x400,
    NUFILE_HANDLE_RANGE_DAT = 0x800,
    NUFILE_HANDLE_RANGE_MC = 0x1000,
    NUFILE_HANDLE_RANGE_NATIVE = 0x2000,
};
#define NUFILE_PS(index) (index + NUFILE_HANDLE_RANGE_PS)
#define NUFILE_MEM(index) (index + NUFILE_HANDLE_RANGE_MEM)
#define NUFILE_DAT(index) (index + NUFILE_HANDLE_RANGE_DAT)
#define NUFILE_MC(index) (index + NUFILE_HANDLE_RANGE_MC)
#define NUFILE_NATIVE(index) (index + NUFILE_HANDLE_RANGE_NATIVE)
#define NUFILE_IS_PS(handle) ((handle) < NUFILE_HANDLE_RANGE_MEM)
#define NUFILE_IS_MEM(handle) (((handle) >= NUFILE_HANDLE_RANGE_MEM) && ((handle) < NUFILE_HANDLE_RANGE_DAT))
#define NUFILE_IS_DAT(handle) (((handle) >= NUFILE_HANDLE_RANGE_DAT) && ((handle) < NUFILE_HANDLE_RANGE_MC))
#define NUFILE_IS_MC(handle) (((handle) >= NUFILE_HANDLE_RANGE_MC) && ((handle) < NUFILE_HANDLE_RANGE_NATIVE))
#define NUFILE_IS_NATIVE(handle) ((handle) >= NUFILE_HANDLE_RANGE_NATIVE)
#define NUFILE_INDEX_PS(handle) ((handle) - NUFILE_HANDLE_RANGE_PS)
#define NUFILE_INDEX_MEM(handle) ((handle) - NUFILE_HANDLE_RANGE_MEM)
#define NUFILE_INDEX_DAT(handle) ((handle) - NUFILE_HANDLE_RANGE_DAT)
#define NUFILE_INDEX_MC(handle) ((handle) - NUFILE_HANDLE_RANGE_MC)
#define NUFILE_INDEX_NATIVE(handle) ((handle) - NUFILE_HANDLE_RANGE_NATIVE)
#define NUFILE_INVALID ((NuFileHandle)(0))

static nudathdr_s *curr_dat;
static NuFileDevice *default_device;
static int32_t nufile_buffering_enabled;
static int32_t _numdevices;
static NuFileDevice devices[1];
static int32_t file_criticalsection;
static nudatfileinfo_s dat_file_infos[20];
static FILE *g_fileHandles[1];
static NuMemFile memfiles[16];

NuFileHandle NuFileOpen(const char *path, NuFileOpenMode mode);
NuFileHandle NuFileOpenDF(const char *path, NuFileOpenMode mode, nudathdr_s *header);
size_t NuFileRead(NuFileHandle index, char *dest, size_t length);
NuFileDevice *NuFileGetDeviceFromPath(const char *path);
size_t NuFileOpenSize(NuFileHandle file);
int32_t NuFileSeek(NuFileHandle file, int64_t offset, int32_t seekMode);

size_t NuPSFileRead(int32_t index, void *dest, size_t len);
size_t NuMemFileRead(int32_t file, char *dest, size_t size);

NuFileHandle NuDatFileOpen(nudathdr_s *header, const char *name, int32_t mode);
size_t NuDatFileRead(NuFileHandle file, void *dest, size_t size);
nudathdr_s *NuDatOpen(char *name, void **bufferBase, int32_t zero);
nudathdr_s *NuDatOpenEx(char *name, void **bufferBase, int zero, short mode);
int32_t NuDatFileGetFreeInfo(void);

int32_t NameToHash(const char *name);
size_t BinarySearch(int32_t element, int32_t *array, size_t length);
